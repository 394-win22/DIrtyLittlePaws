{"ast":null,"code":"import _classCallCheck from\"F:/GitHub Clone/DIrtyLittlePaws/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"F:/GitHub Clone/DIrtyLittlePaws/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"F:/GitHub Clone/DIrtyLittlePaws/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"F:/GitHub Clone/DIrtyLittlePaws/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import ReactDOM from\"react-dom\";import{MapLayout,BottomNav,ScanBottomNavTxt,ScanButtonBottomNav,AccountIcon,HelpIcon}from\"./styles/mapstyles\";import scanSVG from\"../src/styles/svgs/scan.svg\";import accSVG from\"../src/styles/svgs/account.svg\";import helpSVG from\"../src/styles/svgs/help.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var mapStyles={map:{position:\"absolute\",width:\"100%\",height:\"100%\"}};export var CurrentLocation=/*#__PURE__*/function(_React$Component){_inherits(CurrentLocation,_React$Component);var _super=_createSuper(CurrentLocation);function CurrentLocation(props){var _this;_classCallCheck(this,CurrentLocation);_this=_super.call(this,props);var _this$props$initialCe=_this.props.initialCenter,lat=_this$props$initialCe.lat,lng=_this$props$initialCe.lng;_this.state={currentLocation:{lat:lat,lng:lng},zoomLevel:14};return _this;}_createClass(CurrentLocation,[{key:\"FavoritePosition\",value:function FavoritePosition(){var map=this.map;var current=this.state.currentLocation;var google=this.props.google;var maps=google.maps;var pos={lat:41.879463,lng:-87.628461};var center=new maps.LatLng(pos.lat,pos.lng);map.panTo(center);//this.props.google.maps.setCenter(pos);\n}},{key:\"ChangeZoom\",value:function ChangeZoom(){var map=this.map;var current=this.state.currentLocation;var google=this.props.google;var maps=google.maps;this.setState({zoomLevel:13});this.loadMap();//this.props.google.maps.setCenter(pos);\n}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){if(prevProps.google!==this.props.google){this.loadMap();}if(prevState.currentLocation!==this.state.currentLocation){this.recenterMap();}}},{key:\"recenterMap\",value:function recenterMap(){var map=this.map;var current=this.state.currentLocation;var google=this.props.google;var maps=google.maps;if(map){var center=new maps.LatLng(current.lat,current.lng);map.panTo(center);}}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;if(this.props.centerAroundCurrentLocation){if(navigator&&navigator.geolocation){navigator.geolocation.getCurrentPosition(function(pos){var coords=pos.coords;_this2.setState({currentLocation:{lat:coords.latitude,lng:coords.longitude}});});}}this.loadMap();}},{key:\"loadMap\",value:function loadMap(){if(this.props&&this.props.google){// checks if google is available\nvar google=this.props.google;var maps=google.maps;var mapRef=this.refs.map;// reference to the actual DOM element\nvar node=ReactDOM.findDOMNode(mapRef);var zoom=this.props.zoom;var _this$state$currentLo=this.state.currentLocation,lat=_this$state$currentLo.lat,lng=_this$state$currentLo.lng;var center=new maps.LatLng(lat,lng);var mapConfig=Object.assign({},{center:center,zoom:this.state.zoomLevel});// maps.Map() is constructor that instantiates the map\nthis.map=new maps.Map(node,mapConfig);}}},{key:\"renderChildren\",value:function renderChildren(){var _this3=this;var children=this.props.children;if(!children)return;return React.Children.map(children,function(c){if(!c)return;return/*#__PURE__*/React.cloneElement(c,{map:_this3.map,google:_this3.props.google,mapCenter:_this3.state.currentLocation});});}},{key:\"render\",value:function render(){var _this4=this;var style=Object.assign({},mapStyles.map);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn\",onClick:function onClick(){return _this4.ChangeZoom();},children:window.innerWidth>600?\"Find more locations?\":\"More\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn\",onClick:function onClick(){return _this4.FavoritePosition();},children:window.innerWidth>600?\"Check home location\":\"Home\"}),/*#__PURE__*/_jsxs(MapLayout,{children:[/*#__PURE__*/_jsx(\"div\",{style:style,ref:\"map\",children:\"Loading map...\"}),this.renderChildren()]})]});}}]);return CurrentLocation;}(React.Component);CurrentLocation.defaultProps={zoom:14,initialCenter:{lat:41.91807726393084,lng:-87.65872153719155},centerAroundCurrentLocation:false,visible:true};export default CurrentLocation;","map":{"version":3,"sources":["F:/GitHub Clone/DIrtyLittlePaws/src/Map.js"],"names":["React","ReactDOM","MapLayout","BottomNav","ScanBottomNavTxt","ScanButtonBottomNav","AccountIcon","HelpIcon","scanSVG","accSVG","helpSVG","mapStyles","map","position","width","height","CurrentLocation","props","initialCenter","lat","lng","state","currentLocation","zoomLevel","current","google","maps","pos","center","LatLng","panTo","setState","loadMap","prevProps","prevState","recenterMap","centerAroundCurrentLocation","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","mapRef","refs","node","findDOMNode","zoom","mapConfig","Object","assign","Map","children","Children","c","cloneElement","mapCenter","style","ChangeZoom","window","innerWidth","FavoritePosition","renderChildren","Component","defaultProps","visible"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport {\r\n  MapLayout,\r\n  BottomNav,\r\n  ScanBottomNavTxt,\r\n  ScanButtonBottomNav,\r\n  AccountIcon,\r\n  HelpIcon,\r\n} from \"./styles/mapstyles\";\r\nimport scanSVG from \"../src/styles/svgs/scan.svg\";\r\nimport accSVG from \"../src/styles/svgs/account.svg\";\r\nimport helpSVG from \"../src/styles/svgs/help.svg\";\r\n\r\nconst mapStyles = {\r\n  map: {\r\n    position: \"absolute\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n  },\r\n};\r\n\r\nexport class CurrentLocation extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { lat, lng } = this.props.initialCenter;\r\n\r\n    this.state = {\r\n      currentLocation: {\r\n        lat: lat,\r\n        lng: lng,\r\n      },\r\n      zoomLevel: 14,\r\n    };\r\n  }\r\n\r\n  FavoritePosition() {\r\n    const map = this.map;\r\n    const current = this.state.currentLocation;\r\n    const google = this.props.google;\r\n    const maps = google.maps;\r\n\r\n    const pos = {\r\n      lat: 41.879463,\r\n      lng: -87.628461,\r\n    };\r\n\r\n    let center = new maps.LatLng(pos.lat, pos.lng);\r\n    map.panTo(center);\r\n\r\n    //this.props.google.maps.setCenter(pos);\r\n  }\r\n\r\n  ChangeZoom() {\r\n    const map = this.map;\r\n    const current = this.state.currentLocation;\r\n    const google = this.props.google;\r\n    const maps = google.maps;\r\n\r\n    this.setState({\r\n      zoomLevel: 13,\r\n    });\r\n\r\n    this.loadMap();\r\n\r\n    //this.props.google.maps.setCenter(pos);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.google !== this.props.google) {\r\n      this.loadMap();\r\n    }\r\n    if (prevState.currentLocation !== this.state.currentLocation) {\r\n      this.recenterMap();\r\n    }\r\n  }\r\n\r\n  recenterMap() {\r\n    const map = this.map;\r\n    const current = this.state.currentLocation;\r\n    const google = this.props.google;\r\n    const maps = google.maps;\r\n\r\n    if (map) {\r\n      let center = new maps.LatLng(current.lat, current.lng);\r\n      map.panTo(center);\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.centerAroundCurrentLocation) {\r\n      if (navigator && navigator.geolocation) {\r\n        navigator.geolocation.getCurrentPosition((pos) => {\r\n          const coords = pos.coords;\r\n          this.setState({\r\n            currentLocation: {\r\n              lat: coords.latitude,\r\n              lng: coords.longitude,\r\n            },\r\n          });\r\n        });\r\n      }\r\n    }\r\n    this.loadMap();\r\n  }\r\n\r\n  loadMap() {\r\n    if (this.props && this.props.google) {\r\n      // checks if google is available\r\n      const { google } = this.props;\r\n      const maps = google.maps;\r\n\r\n      const mapRef = this.refs.map;\r\n\r\n      // reference to the actual DOM element\r\n      const node = ReactDOM.findDOMNode(mapRef);\r\n\r\n      let { zoom } = this.props;\r\n      const { lat, lng } = this.state.currentLocation;\r\n      const center = new maps.LatLng(lat, lng);\r\n\r\n      const mapConfig = Object.assign(\r\n        {},\r\n        {\r\n          center: center,\r\n          zoom: this.state.zoomLevel,\r\n        }\r\n      );\r\n\r\n      // maps.Map() is constructor that instantiates the map\r\n      this.map = new maps.Map(node, mapConfig);\r\n    }\r\n  }\r\n\r\n  renderChildren() {\r\n    const { children } = this.props;\r\n\r\n    if (!children) return;\r\n\r\n    return React.Children.map(children, (c) => {\r\n      if (!c) return;\r\n\r\n      return React.cloneElement(c, {\r\n        map: this.map,\r\n        google: this.props.google,\r\n        mapCenter: this.state.currentLocation,\r\n      });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const style = Object.assign({}, mapStyles.map);\r\n\r\n    return (\r\n      <>\r\n        <button type=\"button\" className=\"btn\" onClick={() => this.ChangeZoom()}>\r\n          {window.innerWidth > 600 ? \"Find more locations?\" : \"More\"}\r\n        </button>\r\n\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn\"\r\n          onClick={() => this.FavoritePosition()}\r\n        >\r\n          {window.innerWidth > 600 ? \"Check home location\" : \"Home\"}\r\n        </button>\r\n\r\n        <MapLayout>\r\n          <div style={style} ref=\"map\">\r\n            Loading map...\r\n          </div>\r\n          {this.renderChildren()}\r\n        </MapLayout>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nCurrentLocation.defaultProps = {\r\n  zoom: 14,\r\n  initialCenter: {\r\n    lat: 41.91807726393084,\r\n    lng: -87.65872153719155,\r\n  },\r\n  centerAroundCurrentLocation: false,\r\n  visible: true,\r\n};\r\n\r\nexport default CurrentLocation;\r\n"]},"metadata":{},"sourceType":"module"}